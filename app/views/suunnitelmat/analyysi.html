{% extends "base.html" %}

{% block content %}
<script>
    function hide(id) {
        var x = document.getElementById(id);
        x.style.display = 'none';
    }
    function show(id) {
        var x = document.getElementById(id);
        x.style.display = 'block';
    }
</script>
<h1>View results</h1><br>
<form method="POST" action="{{base_path}}/analyysi">
    Use results from<br>
    <input type="radio" name="date" value="all" onclick="hide('date_input')" checked> All time<br>
    <input type="radio" name="date" value="custom" onclick="show('date_input')"> Choose timeframe<br>
    <div id="date_input" hidden>
        <input type="date" name="show_from">
        to
        <input type="date" name="show_to">
    </div><br>
    Use results from<br>
    <input type="radio" name="group" value="all" onclick="hide('groups_table')" checked> All of my groups<br>
    <input type="radio" name="group" value="me" onclick="hide('groups_table')"> Only me<br>
    <input type="radio" name="group" value="custom" onclick="show('groups_table')"> Choose groups<br>
    <table id="groups_table" hidden>
        <thead>
            <tr>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for group in groups %}
            <tr>
                <td>
                    <input type="checkbox" name="{{group.id}}"> {{group.name}}<br>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table><br>
    Show<br>
    <input type="radio" name="class" value="all" onclick="hide('hero');" checked>All class winrates<br>
    <input type="radio" name="class" value="for" onclick="show('hero');">Mathups for a class<br>
    <select id="hero" name="hero" hidden>
        <option value="1">Warrior</option>
        <option value="2">Shaman</option>
        <option value="3">Rogue</option>
        <option value="4">Paladin</option>
        <option value="5">Hunter</option>
        <option value="6">Druid</option>
        <option value="7">Warlock</option>
        <option value="8">Mage</option>
        <option value="9">Priest</option>
    </select>
    <br>
    <input type="submit" value="Refresh">
</form>
<br><br>
<table class="table forum table-striped table-hover">
    <thead>
        <tr>
            <th>
                <h2>Class</h2>
            </th>
            <th>
                <h2>Winrate</h2>
            </th>
            <th>
                <h2>Sample</h2>
            </th>
        </tr>
    </thead>
    <tbody>
        {% for stat in stats %}
        <tr>
            <td>
                <h3>{{stat.header}}</h3>
            </td>
            <td>
                <h3>{{stat.winrate}}%</h3>
            </td>
            <td>
                <h3>{{stat.sample}}</h3>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<br><br>
<a href="{{base_path}}/paasivu" class="btn btn-primary btn-lg">Back to main page</a>
{% endblock %}