{% extends "base.html" %}

{% block content %}
<script>
    function show(id) {
        var x = document.getElementById(id);
        x.style.display = 'block';
    }
</script>
<form method="POST" action="{{base_path}}/etusivu">
    <div class="form-inline">
        <div class="input-group">
            <span class="input-group-addon">Username</span>
            <input id="usernameIn" type="text" name="username" value="{{usernameInput}}" class="form-control">
        </div>
        <br><br>
        <div class="input-group">
            <span class="input-group-addon">Password</span>
            <input type="password" name="password" class="form-control">
        </div>
    </div>
    <br>
    <input type="hidden" name="register" value="false">
    <input type="submit" value="Log in" class="btn">
    <div id="loginError"></div>
</form>
<script>
    if(document.getElementById('usernameIn').getAttribute('value') != ''){
        document.getElementById('loginError').innerHTML = ' Invalid username or password.';
    }
</script>
<br>
<button onclick="show('register')" class="btn">
    Register
</button>
<p id="errorMessage">{{error}}</p>
<form id="register" method="POST" action="{{base_path}}/etusivu" hidden>
    <div class="form-inline">
        <div class="input-group">
            <span class="input-group-addon">Username</span>
            <input id="registerUsername" type="text" name="username" value="{{registerUsernameInput}}" class="form-control">
        </div>
        <br><br>
        <div class="input-group">
            <span class="input-group-addon">Password</span>
            <input type="password" name="password" class="form-control">
        </div>
    </div>
    <br>
    <input type="hidden" name="register" value="true">
    <input type="submit" value="Register" class="btn">
</form>
<script>
    var error = document.getElementById('errorMessage').innerHTML;
    if(error.length != ''){
        show('register');
    }
</script>
{% endblock %}